---
---

.maxheight-vs-heightauto,
.maxheight-animated,
.javascript {
    &:after {
        content: "";
        display: table;
        clear: both;
    }

    .example {
        position: relative;
        float: left;
        width: calc(50% - 4px);
        height: 350px;
        border: 1px solid #888;

        .box {
            padding: 10px;
            overflow: hidden;
            background-color: #fdd;
            text-align: center;

            .img {
                background: url('https://upload.wikimedia.org/wikipedia/commons/1/14/Img0289SCE_500kV_lines_close.JPG') top / auto 300px no-repeat;

                margin: 0 !important;
                height: 50px;
                width: auto !important;

                transition: height 200ms linear;
            }
        }
    }

    .max-height {
        position: relative;

        .box {
            max-height: 200px;
        }

        .marker {
            display: block;
            box-sizing: border-box;

            position: absolute;
            top: 220px;
            width: calc(100% - 20px);
            margin: 0 10px;
            padding: 10px 15px;
            border-top: 1px solid #f00;

            opacity: 0;
            transition: opacity 200ms linear;
        }
    }

    .height-auto {
        float: right;
        background-color: none;

        div {
            height: auto;
        }
    }
}

.maxheight-vs-heightauto {
    .example {
        &:before,
        &:after {
            position: absolute;
            left: 25px;
            font-size: 15px;

            transition: opacity 200ms linear;
        }
        &:before {
            content: 'content height: 50px';
            opacity: 1;
            top: 80px;
        }
        &:after {
            content: 'content height: 250px';
            opacity: 0;
            top: 280px;
        }
    }

    &:hover {
        .max-height,
        .height-auto {
            &:before {
                opacity: 0;
            }
            &:after {
                opacity: 1;
            }

            .marker {
                opacity: 1;
            }

            .box {
                .img {
                    height: 250px;
                }
            }
        }
    }
}

.maxheight-animated {
    position: relative;

    .example {
        height: 380px;

        .box {
            .img {
                height: 120px;
            }
        }

        .timer {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 4px;

            &:after {
                content: '';
                position: absolute;
                width: 0%;
                height: 4px;
                background-color: #f00;

                transition: width 5s linear;
            }

            .done {
                position: absolute;
                top: -40px;

                padding: 2px 10px;

                background-color: #f00;
                color: white;

                font-size: 15px;
                opacity: 0;

                &:before {
                    position: absolute;
                    bottom: -10px;
                    left: 50%;
                    transform: translateX(-50%);

                    content: '';
                    border-top: 10px solid #f00;
                    border-left: 10px solid transparent;
                    border-right: 10px solid transparent;
                }
            }
        }
    }

    .max-height {
        .box {
            max-height: 50px;
            transition: max-height 5s linear;
        }

        .timer {
            .done {
                left: 30%;
                transform: translateX(-50%);
                transition: opacity 200ms 3.4s;
            }
        }
    }

    .max-height-ghost {
        position: absolute;
        top: 71px;
        left: 1px;

        width: calc(50% - 24px);
        height: auto;

        margin: 0 10px;
        padding: 0;

        border: none;
        border-top: 1px solid #f00;
        transition: top 5s linear;

        small {
            display: block;
            margin-top: -1px;
        }
    }

    .height-auto {
        .box {
            height: 50px;
            transition: height 5s linear;
        }

        .timer {
            .done {
                right: 0;
                transform: translateX(50%);
                transition: opacity 200ms 0.5s;
            }
        }
    }

    &:hover {
        .example {
            .timer {
                &:after {
                    width: 100%;
                }

                .done {
                    opacity: 1;
                }
            }
        }

        .max-height-ghost {
            top: 301px;
        }

        .max-height {
            .box {
                max-height: 300px;
            }
            .timer {
                .done {
                    transition: opacity 200ms 1.3s;
                }
            }
        }

        .height-auto {
            .box {
                height: 120px;
            }

            .timer {
                .done {
                    transition: opacity 200ms 4.5s;
                }
            }
        }
    }
}

.javascript {
    .example {
        width: 100%;
        height: 350px;

        .box {
            transition: height 200ms ease, padding 200ms ease;
            overflow: hidden;
            height: auto;

            .img {
                height: 283px;
                margin-bottom: 20px !important;
            }

            &.hidden {
                padding: 0;
            }
        }
    }
}
